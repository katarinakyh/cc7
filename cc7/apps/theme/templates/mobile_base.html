{% load i18n %}
{%load account_extras%}

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <script src="{{ STATIC_URL }}js/jquery-1.9.1.js" type="text/javascript" ></script>
    <link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap_mobile.css" />


    <!--script src="http://code.jquery.com/jquery-1.8.2.min.js"></script-->

    <style type="text/css">
        body {
            color: #333333;
            font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
            font-size: 14px;
            line-height: 20px;
        }

        a {
            color: #0088CC;
            text-decoration: none;
        }


        li {
            list-style-type: none;
            margin-left: -40px;
        }

        .left_nav {
            float:left;
            padding-left: 5%;
            cursor: pointer;
        }

        .right_nav {
            float:right;
            padding-right: 5%;
            cursor: pointer;
        }

        .center_nav {
            padding-left: 10%;
            cursor: pointer;
        }
        .search_nav {
            padding-left: 30%;
            cursor: pointer;
        }

        .menu {
            background: #111111;
            border: 1px solid #333333;
            color: #FFFFFF;
            font-weight: bold;
            text-shadow: 0 -1px 0 #000000;
        }
        .story {
            color: #555555;
            background: #f3f3f3;
            /*border-left: 5px solid #EEEEEE;*/
            margin-left: 15px;
            margin-top: 20px;
            padding-top: 2px;
            padding-bottom: 15px;

        }

        .new_post {
            color: #555555;
            background: #f3f3f3;
            /*border-left: 5px solid #EEEEEE;*/
            padding-left: 15px;
            padding-top: 20px;
            padding-bottom: 15px;

        }

        .story:hover {
             background: #f3f3f3;
             cursor: pointer;
             color: #555555;
         }

        .story_detail {
            color: #555555;
            background: #f3f3f2;
            /*border-left: 5px solid #EEEEEE;*/
            margin-left: 1px;
            margin-top: 20px;
            padding-top: 2px;
            padding-bottom: 15px;
        }


        .date_comment {
            background-color: #fff;
            margin-left: 46px;
            padding-bottom: 20px;
            padding-left: 10px;
            font-size: 10px;
        }

        .postbody {
            margin-bottom: 20px;
            margin-left: 40px;
            padding: 0 0 0 10px;

        }
        
        .mugshot {
            float: left;
            margin-right: 10px;
            margin-left: 10px;
            height: 30px;
            width: 30px;
        }
        #mugshot_detail {
            margin-top: 10px;
        }

        .small {
            font-size: 10px;
            margin-left: 50px;
        }

        .comment_body {
            margin-top: 20px;
            margin-left: 46px;
            padding-bottom: 20px;
            padding-left: 10px;
            background-color: #f9f9f9;
            border-style:solid;
            border-left: solid #dedede;
            border-bottom: none;
            border-top: none;
            border-right: none;
        }
        .comment_body h3 {
            padding-top: 20px;
        }
        .comment_body form {
            padding-left: 5px;
        }
        #add_local {
            cursor: pointer;
        }
        .current_location {
            font-size: 11px;
        }
        ul, ol {
            margin: 0 0 10px 20px;
            padding: 0;
        }

    </style>

    {% block extra_head %}{% endblock %}

    <title> {% block title %} {% trans "c7 social forum" %} {% endblock %} </title>

</head>
<body >
    <div data-role="page">
        <header class="menu">
            <h4>
                <span class="left_nav"><a href=""><i class="icon-bullhorn icon-white"></i> c7 </a></span>
               <span id="add_post" class="center_nav">
                   <a href="#add_post" >
                        post <i class="icon-plus icon-white"></i>
                   </a>
               </span>
                <span class="right_nav">
                    <i class="icon-envelope icon-white"></i>(<a href="../messages/">1</a>)
                    <i class="icon-user icon-white"></i>
                </span>
            </h4>
        </header>
        <div data-role="content" data-theme="c">
            <ul id="post-data">
            </ul>
        </div>
        <footer class="menu" data-role="footer">
            <h4>C7 mobile footer</h4>
        </footer>
    </div>
    <!-- template for list view -->
    <script id="post_list_template" type="text/template">
        <div class="story" data-role="content" data-theme="c">
            <h4>
                <img class="mugshot" src="<%= mugshot %>" alt="Author"/>
                <a href="#detail_id?<%= id %>" > <%= title %> </a> (<%= id %>)<br/>
                    <span class="small" >
                        Posted by:<strong><a href="/accounts/<%= author.user.username %>/"> <%= author.user.username %> </a></strong>
                    </span>
            </h4>
            <div class="postbody">
                <%= body %>
            </div>
            <div class="date_comment">
                <span class="left_nav"> Posted at: <%= date_created %></span>
                <span class="right_nav"> <a href="#detail_id?<%= id %>">comment (<%= comment_count %>)</a></span>
            </div>

        </div>
    </script>
    <!-- template for pagination -->

    <!-- template for single post -->
    <script id="single_post_template" type="text/template">
        <div class="story_detail" data-role="content" data-theme="c">

                <img class="mugshot" id="mugshot_detail" src="<%= mugshot %>" alt="Author"/>
                <h4><%= title %> </h4>
            <div class="postbody">
                <%= body %>
            </div>
            <div class="date_comment">
                <span class="left_nav"> Posted by:<a href="/accounts/<%= author.user.username %>/"> <%= author.user.username %> </a></span>
                <span class="right_nav"> Posted at: <%= date_created %></span>
            </div>

            <div class="comment_body">

                <h5><%= comment_count %> Comments</h5>

                <% _.each(comments, function(comment) { %>  <img class="mugshot" src="{{ MEDIA_URL }}<%= comment.author_mugshot %>" alt="Author"/>
                                                            <p><a href="/accounts/<%= comment.author_name %>/">
                                                                 </a> - <%= comment.comment_body %></p>
                                                                  <span class="small" >Posted by <%= comment.author_name %> at <%= comment.comment_date %><hr/></span><% }); %>
                <h6>Post a new Comment</h6>
                <form>
                    <textarea id="commentbody"></textarea><br />
                    <button class="newcomment">comment</button>
                </form>
            </div>
        </div>
    </script>
     <script id="new_post_template" type="text/template">
         <h3>New Post</h3>
        <div class="new_post" data-role="content" data-theme="c">
            <form>
                <textarea id="new_post_boby"></textarea><br />
                <i class="icon-map-marker"></i> <span class="label label-success" id="add_local"> add your location </span> <span class="current_location" id="your_location"> Current location: Internet</span><br /><br />
                <button class="post_new">post</button>
            </form>
        </div>
        </div>
    </script>

    <script src="{{ STATIC_URL }}js/underscore.js"></script>
    <script src="{{ STATIC_URL }}js/backbone.js"></script>
    <script src="{{ STATIC_URL }}js/backbone-tastypie.js"></script>
    <script src="{{ STATIC_URL }}js/post.js"></script>

    <!--
    <script src="{{ STATIC_URL }}js/post.js"></script>
    <script src="{{ STATIC_URL }}js/models.js"></script>
    <script src="{{ STATIC_URL }}js/collections.js"></script>
    <script src="{{ STATIC_URL }}js/views.js"></script>
    <script src="{{ STATIC_URL }}js/router.js"></script>


    <script>
    new Posts.Router;
    // start listen form # change events in the url
    Backbone.history.start();
    </script>
    -->


</body>
</html>
